# ASMR音频声道反转

## 功能介绍

在ASMR网站（如 asmr.one）上添加音频声道反转功能，支持一键切换左右声道。

## 使用场景

- 某些ASMR作品的左右声道可能与你的耳机佩戴方向相反
- 想要体验不同的声场效果
- 需要快速切换左右声道来找到最佳听感

## 功能特点

- ✅ 自动检测页面中的音频播放
- ✅ 音频播放时自动显示控制按钮
- ✅ 一键切换左右声道
- ✅ 实时生效，无需重新加载
- ✅ 美观的渐变按钮设计
- ✅ 清晰的状态指示

## 使用方法

1. 安装此脚本到 Tampermonkey
2. 访问 ASMR 网站（如 <https://www.asmr.one/work/RJ01476608）>
3. 播放音频后，右上角会自动出现 "🔄 声道正常" 按钮
4. 点击按钮即可反转左右声道，按钮会变为 "🔄 声道反转"
5. 再次点击可恢复正常声道

## 技术实现

使用 Web Audio API 实现音频声道处理：

- **AudioContext**: 创建音频处理上下文
- **MediaElementAudioSourceNode**: 从 `<audio>` 元素创建音频源
- **ChannelSplitterNode**: 将立体声分离为左右声道
- **ChannelMergerNode**: 将左右声道重新合并

### 声道处理流程

```
正常模式：
音频源 -> 分离器 -> 左声道 -> 左输出
                 -> 右声道 -> 右输出

反转模式：
音频源 -> 分离器 -> 左声道 -> 右输出
                 -> 右声道 -> 左输出
```

## 支持的网站

- <https://www.asmr.one/work/>*

## 注意事项

- 脚本会自动检测音频播放，无需手动操作
- 音频暂停或结束时，按钮会自动隐藏
- 切换声道是实时的，不会影响音频播放进度
- 支持同一页面多个音频元素

## 兼容性

- 支持所有现代浏览器（Chrome、Firefox、Edge、Safari 等）
- 需要浏览器支持 Web Audio API

## 版本历史

### v1.0 (2024-12-11)

- 初始版本
- 实现基础的声道反转功能
- 添加自动检测和按钮显示
- 优化用户界面

## 许可证

MIT License

## 作者

shangxueink

## 反馈

如有问题或建议，请在 [GitHub Issues](https://github.com/koakuuma/tampermonkey-scripts/issues) 中提出。
