# Koishi Forum Discourse Reacter

## 简介

这是一个为 Koishi 论坛设计的用户脚本，通过长按爱心按钮快速为当前帖子的所有可点赞内容点赞。

## 功能特点

- 🎯 **单击跳转**：单击爱心按钮跳转到未读帖子页面
- 🔄 **长按点赞**：长按爱心按钮（0.5秒）开始点赞，松开停止
- 💖 **视觉反馈**：长按时爱心从空心变为实心红色
- ❤️ **SVG 图标**：使用矢量爱心图标，清晰美观
- 📱 **移动端支持**：同时支持鼠标和触摸事件
- 🚫 **避免429错误**：只在长按时工作，不会持续运行导致请求过多

## 使用方法

1. 安装 Tampermonkey 或其他用户脚本管理器
2. 安装本脚本
3. 访问 Koishi 论坛的任意页面
4. 在页面顶部找到爱心按钮
5. **单击**按钮：跳转到未读帖子页面
6. **长按**按钮：开始为当前帖子所有可点赞内容点赞（爱心变红）
7. **松开**按钮：停止点赞（爱心恢复空心）

## 视觉效果

### 爱心按钮状态
- **默认状态**：空心爱心，使用主题颜色
- **悬停状态**：放大 1.1 倍
- **点击状态**：缩小到 0.95 倍
- **长按状态**：变为实心红色爱心 (#ff6b6b) + 跳动效果

### 动画效果
- 爱心填充：0.3 秒平滑过渡
- 爱心跳动：0.3 秒放大到 1.3 倍后恢复
- 按钮缩放：0.2 秒平滑过渡

## 与旧版本的区别

### 旧版本问题
- 需要手动开启/关闭脚本
- 脚本运行时会不断点击已点赞的按钮
- 容易触发 429 错误（请求过多）
- 配置界面复杂
- 使用图片图标
- 复杂的加载动画

### 新版本优势
- ✅ 单击跳转到未读帖子，快速访问
- ✅ 只在长按时工作，松开立即停止
- ✅ 不会重复点击已点赞的内容
- ✅ 大幅降低 429 错误的可能性
- ✅ 操作简单直观，无需配置
- ✅ 简洁的爱心填充效果
- ✅ 使用 SVG 图标，支持主题

## 技术实现

- 使用 TypeScript 编写
- SVG 爱心图标（24x24px）
- 长按检测（500ms）
- 单击与长按事件分离
- CSS transition 实现平滑动画
- 自动查找未点赞的按钮
- 防抖处理避免重复操作

## 兼容性

- ✅ Chrome/Edge (Tampermonkey)
- ✅ Firefox (Tampermonkey/Greasemonkey)
- ✅ Safari (Userscripts)
- ✅ 移动端浏览器（支持触摸事件）

## 许可证

MIT License

## 作者

shangxueink

## 问题反馈

如有问题或建议，请访问：https://github.com/koakuuma/tampermonkey-scripts/issues
